{"version":3,"sources":["lib/auth-service.js","lib/AuthProvider.js","components/Navbar.js","pages/Home.js","pages/Signup.js","pages/Login.js","pages/UserAccount.js","components/AnonRoute.js","components/PrivateRoute.js","api/service.js","components/UserDetails.js","App.js","index.js"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","username","email","password","post","then","data","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","user","logout","isLoggedin","props","Component","AuthProvider","state","isLoading","setState","catch","response","message","statusMessage","err","console","log","me","value","children","userInfo","_id","res","error","getId","className","Navbar","expand","bg","Brand","to","alt","src","width","height","Toggle","aria-controls","Collapse","id","Nav","Form","inline","FormControl","type","placeholder","Button","variant","NavDropdown","title","Item","href","Divider","onClick","Link","Home","handleFormSubmit","event","preventDefault","handleChange","target","name","onSubmit","onChange","style","marginLeft","textAlign","marginRight","userPhoto","borderRadius","backgroundImage","backgroundSize","component","rest","render","handleUpload","theFile","a","service","saveNewEvent","newEvent","getEvents","useState","imgUrl","setImgUrl","setname","setEmail","position","setPosition","technologies","setTechnologies","channels","setChannels","uploadCV","submitChanges","put","history","push","handleFileUpload","e","uploadData","FormData","append","files","secure_url","data-msg","data-max","htmlFor","App","exact","path","Signup","Login","UserDetails","UserAccount","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.527d9f07.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true,\r\n    });\r\n  }\r\n\r\n  signup({ username, email, password }) {\r\n    return this.auth\r\n      .post(\"/auth/signup\", { username, email, password })\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  login({ email, password }) {\r\n    return this.auth\r\n      .post(\"/auth/login\", { email, password })\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  logout() {\r\n    return this.auth.post(\"/auth/logout\", {}).then(({ data }) => data);\r\n  }\r\n\r\n  me() {\r\n    return this.auth.get(\"/auth/me\").then(({ data }) => data);\r\n  }\r\n}\r\n\r\nconst axiosRequestFunctions = new Auth();\r\n\r\nexport default axiosRequestFunctions;\r\n","import React from \"react\";\r\nimport auth from \"./auth-service\"; // Importamos funciones para llamadas axios a la API\r\nconst { Consumer, Provider } = React.createContext();\r\n\r\n// HOC para crear Consumer\r\n// el componente withAuth recibe un componente como argumento y nos devuelve un componente con el mismo componente dentro de un <Consumer /> con las propiedades user e isLoggedin (state), y los métodos login, signup y logout (this)\r\nconst withAuth = (WrappedComponent) => {\r\n  return class extends React.Component {\r\n    render() {\r\n      return (\r\n        <Consumer>\r\n          {/* El componente <Consumer> provee un callback que recibe el \"value\" con el objeto Providers */}\r\n          {({ login, signup, user, logout, isLoggedin }) => {\r\n            return (\r\n              <WrappedComponent\r\n                login={login}\r\n                signup={signup}\r\n                user={user}\r\n                logout={logout}\r\n                isLoggedin={isLoggedin}\r\n                {...this.props}\r\n              />\r\n            );\r\n          }}\r\n        </Consumer>\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\n// Provider\r\nclass AuthProvider extends React.Component {\r\n  state = { isLoggedin: false, user: null, isLoading: true };\r\n\r\n  componentDidMount() {\r\n    // luego de que se monte el componente, llama a auth.me() que nos devuelve el usuario y setea los valores para loguearlo\r\n    auth\r\n      .me()\r\n      .then((user) =>\r\n        this.setState({ isLoggedin: true, user: user, isLoading: false })\r\n      )\r\n      .catch((err) =>\r\n        this.setState({ isLoggedin: false, user: null, isLoading: false })\r\n      );\r\n  }\r\n\r\n  signup = (user) => {\r\n    const { username, email, password } = user;\r\n\r\n    auth\r\n      .signup({ username, email, password })\r\n      .then((user) => this.setState({ isLoggedin: true, user }))\r\n      .catch(({ response }) =>\r\n        this.setState({ message: response.data.statusMessage })\r\n      );\r\n  };\r\n\r\n  login = (user) => {\r\n    const { email, password } = user;\r\n\r\n    auth\r\n      .login({ email, password })\r\n      .then((user) => this.setState({ isLoggedin: true, user }))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  logout = () => {\r\n    auth\r\n      .logout()\r\n      .then(() => this.setState({ isLoggedin: false, user: null }))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  render() {\r\n    // destructuramos isLoading, isLoggedin y user de this.state y login, logout y signup de this\r\n    const { isLoading, isLoggedin, user } = this.state;\r\n    const { login, logout, signup } = this;\r\n\r\n    return isLoading ? (\r\n      // si está loading, devuelve un <div> y sino devuelve un componente <Provider> con un objeto con los valores: { isLoggedin, user, login, logout, signup}\r\n      // el objeto pasado en la prop value estará disponible para todos los componentes <Consumer>\r\n      <div>Loading</div>\r\n    ) : (\r\n        <Provider value={{ isLoggedin, user, login, logout, signup }}>\r\n          {this.props.children}\r\n        </Provider>\r\n      ); /*<Provider> \"value={}\" datos que estarán disponibles para todos los componentes <Consumer> */\r\n  }\r\n}\r\n\r\nexport { Consumer, withAuth }; //  <--\tRECUERDA EXPORTAR  ! ! !\r\n\r\nexport default AuthProvider; //\t<--\tRECUERDA EXPORTAR  ! ! !\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport axios from 'axios'\r\nimport {\r\n  Navbar,\r\n  Nav,\r\n  NavDropdown,\r\n  FormControl,\r\n  Form,\r\n  Button,\r\n} from \"react-bootstrap\";\r\n\r\nclass TheNavbar extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this.state = {\r\n      userInfo: {}\r\n    }\r\n  }\r\n\r\n  getId() {\r\n    axios.get(`${process.env.REACT_APP_API_URL}/user/userCreated/${this.props.user._id}`, { withCredentials: true })\r\n      .then(res =>\r\n        this.setState({ userInfo: res.data })\r\n      )\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  componentDidMount() {\r\n    return (\r\n      this.props.user ? this.getId() : null\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { user, logout, isLoggedin } = this.props;\r\n    return (\r\n      <div className=\"\">\r\n        <Navbar expand=\"lg\" bg=\"light\" className=\"justify-content-between\">\r\n          <Navbar.Brand>\r\n            <Link to={\"/\"}>\r\n              <img\r\n                alt=\"Logo\"\r\n                src=\"./images/LogoFMO.png\"\r\n                width=\"85\"\r\n                height=\"80\"\r\n                className=\"d-inline-block align-top\"\r\n              />{\" \"}\r\n              \r\n            </Link>\r\n          </Navbar.Brand>\r\n\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"mr-auto\">\r\n              <Form inline>\r\n                <FormControl\r\n                  type=\"text\"\r\n                  placeholder=\"Search\"\r\n                  className=\"mr-sm-2\"\r\n                />\r\n                <Button variant=\"outline-success\">Search</Button>\r\n              </Form>\r\n\r\n              {isLoggedin ? (\r\n                <>\r\n                  <p className=\"navbar-user\">username:{user.username}</p>\r\n\r\n                  <NavDropdown title=\"USER\" id=\"basic-nav-dropdown\">\r\n                    <NavDropdown.Item href=\"#action/3.1\">\r\n                      Action\r\n                    </NavDropdown.Item>\r\n                    <NavDropdown.Item href=\"#action/3.2\">\r\n                      Edit Profile\r\n                    </NavDropdown.Item>\r\n                    <NavDropdown.Item href=\"#action/3.3\">\r\n                      Dashboard\r\n                    </NavDropdown.Item>\r\n                    <NavDropdown.Divider />\r\n                    <NavDropdown.Item href=\"#action/3.4\">\r\n                      <button className=\"navbar-button\" onClick={logout}>\r\n                        Logout\r\n                      </button>\r\n                    </NavDropdown.Item>\r\n                  </NavDropdown>\r\n                  <Nav.Link>\r\n                    <img src=\"./images/icons8-test-account-50.png\" />\r\n                  </Nav.Link>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Link to=\"/login\">\r\n                    <button className=\"navbar-button\">Login</button>\r\n                  </Link>\r\n                  <br />\r\n                  <Link to=\"/signup\">\r\n                    <button className=\"navbar-button\">Sign Up</button>\r\n                  </Link>\r\n                </>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(TheNavbar);\r\n","import React from 'react'\r\n\r\nfunction Home() {\r\n  return (\r\n    <div> \r\n      <h1>Home Page</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from '../lib/AuthProvider';\r\n\r\nclass Signup extends Component {\r\n  state = { username: \"\", email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { username, email, password } = this.state;\r\n    //console.log('Signup -> form submit', { username, password });\r\n    this.props.signup({ username, email, password });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { username, email, password } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Sign Up</h1>\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n\r\n          <label>Full Name:</label>\r\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} />\r\n\r\n          <label>Email:</label>\r\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange} />\r\n\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Signup\" />\r\n        </form>\r\n        \r\n        <p>Already have account?</p>\r\n        <Link to={\"/login\"}> Login</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Signup);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from '../lib/AuthProvider';\r\n\r\nclass Login extends Component {\r\n  state = { email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    //console.log('Login -> form submit', { email, password });\r\n    this.props.login({ email, password })\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n          \r\n          <label>Email:</label>\r\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange}/>\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Login\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\nclass UserAccount extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      userInfo: {}\r\n    }\r\n\r\n  }\r\n  getId() {\r\n    axios.get(`${process.env.REACT_APP_API_URL}/user/userCreated/${this.props.user._id}`, { withCredentials: true })\r\n      .then(res =>\r\n        this.setState({ userInfo: res.data })\r\n      )\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n\r\n\r\n\r\n\r\n  }\r\n  componentDidMount() {\r\n    this.getId()\r\n  }\r\n  render() {\r\n    const { user } = this.props\r\n\r\n\r\n    return (\r\n      <div id=\"privateBack\">\r\n        <div style={{ marginLeft: \"40px\" }}>\r\n          <div className=\"main-dashboard-elements\">\r\n            <br></br>\r\n\r\n            <h3>Hello <b>{this.state.userInfo.username}</b>,</h3>\r\n\r\n\r\n            <div className=\"top\" style={{ textAlign: 'left', marginRight: '50px' }}>\r\n              <img width={150} height={150} alt=\"avatar_img\" src={this.state.userInfo.userPhoto} className=\"circle-img\" style={{ width: 150, height: 150, borderRadius: 200, backgroundImage: \"url('https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png'\", backgroundSize: \"cover\" }} />\r\n              <h4 className=\"info\" style={{ marginLeft: 20 }}>{this.state.userInfo.email}</h4>\r\n            </div>\r\n\r\n\r\n\r\n            <h3>Here you can personalize your profile and check all the information about the events you have joined and created.</h3><br></br>\r\n          </div>\r\n\r\n\r\n          <div>\r\n            <Link to=\"/user/userCreatedEvent\">\r\n              <h3>Created events</h3> </Link>\r\n            <p>Create, edit and remove your events.</p><br></br>\r\n          </div>\r\n\r\n          <div>\r\n            <Link to=\"/user/userJoinedEvent\">\r\n              <h3>Joined events</h3></Link>\r\n            <p>Create, edit and remove your events.</p><br></br>\r\n          </div>\r\n\r\n          <div>\r\n            <Link to=\"/user/userDetail\">\r\n              <h3>Edit profile</h3></Link>\r\n            <p>Update your details.</p><br></br>\r\n          </div>\r\n\r\n          <div>\r\n            <Link to=\"/add-event\">\r\n              <h3>Create a new event </h3>\r\n            </Link>\r\n            <p>Ready to organize a new adventure?</p>\r\n            <br></br>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(UserAccount);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\n\r\nconst AnonRoute = ({ component: Component, isLoggedin, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        !isLoggedin ? <Component {...props} /> : <Redirect to=\"/private\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default withAuth(AnonRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\n\r\n// El componente <PrivateRoute /> recibe como props un objecto con las propiedades: component con el valor de un componente (Private), isLoggedin (viene de withAuth, ya que Private se exporta como withAuth(Private), y el resto de las props (si hubiera))\r\n\r\nfunction PrivateRoute({ component: Component, isLoggedin, ...rest }) {\r\n  // devuelve un componente <Route /> donde su prop render recibe las props, y si está logueado, devuelve el componente con sus props (history, etc.), en caso contrario, el componente <Redirect /> redirige a /login\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isLoggedin ? <Component {...props} /> : <Redirect to='/login' />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default withAuth(PrivateRoute);\r\n","import axios from \"axios\";\r\n\r\n\r\nclass Service {\r\n    constructor() {\r\n      this.service = axios.create({\r\n        baseURL: `${process.env.REACT_APP_API_URL}`,\r\n        // withCredentials: true // => you might need this when having the users in the app\r\n        // XMLHttpRequest from a different domain cannot set cookie values for their own domain unless withCredentials is set to true before making the request.\r\n        // withCredentials indicates whether or not cross-site Access-Control requests should be made using credentials\r\n      });\r\n    }\r\n    handleUpload = async (theFile) => {\r\n      \r\n      try {\r\n        const res = await this.service.post(\"/upload\", theFile);\r\n        return res.data;\r\n      } catch (error) {\r\n        \r\n      }\r\n    };\r\n    saveNewEvent = async (newEvent) => {\r\n     \r\n      try {\r\n        const res = await this.service.post(\"/components/NewEventForm\", newEvent);\r\n        return res.data;\r\n      } catch (error) {\r\n        \r\n      }\r\n    };\r\n    getEvents = async () => {\r\n        try {\r\n            const res = await this.service.get(\"/EventsLists\")\r\n            \r\n            return res.data\r\n        } catch (error) {\r\n         \r\n        }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const axiosRequestFunctions = new Service();\r\n\r\n  export default axiosRequestFunctions;","import React, { useState } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport axios from \"axios\";\r\nimport service from \"../api/service\";\r\n\r\nconst UserDetails = (props) => {\r\n  const [imgUrl, setImgUrl] = useState();\r\n  const [name, setname] = useState();\r\n  const [email, setEmail] = useState();\r\n  const [position, setPosition] = useState();\r\n  const [technologies, setTechnologies] = useState();\r\n  const [channels, setChannels] = useState();\r\n  const [uploadCV, setUploadCV] = useState();\r\n\r\n  const submitChanges = async (event) => {\r\n    event.preventDefault();\r\n    /* const formData = new FormData() */\r\n    const response = await axios.put(\r\n      `${process.env.REACT_APP_API_URL}/user/update-user/${props.user._id}`,\r\n      { imgUrl, name, email, position, technologies, uploadCV, channels }\r\n    );\r\n    // return response\r\n    props.history.push(\"/private\");\r\n    /*  const json = await response.json() */\r\n    /* alert(JSON.stringify(response)) */\r\n  };\r\n\r\n  const handleFileUpload = async (e) => {\r\n    const uploadData = new FormData();\r\n    // imageUrl => this name has to be the same as in the model since we pass\r\n    // req.body to .create() method when creating a new thing in '/api/things/create' POST route\r\n    uploadData.append(\"imageUrl\", e.target.files[0]);\r\n\r\n    try {\r\n      const res = await service.handleUpload(uploadData);\r\n\r\n      // after the console.log we can see that response carries 'secure_url' which we can use to update the state\r\n      setImgUrl(res.secure_url);\r\n    } catch (error) {\r\n      console.log(\"Error while uploading the file: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section id=\"content\">\r\n      <div className=\"content-view\">\r\n        <h1 className=\"heading-large horizontal-center\">Your details</h1>\r\n\r\n        <form onSubmit={submitChanges}>\r\n          <div className=\"box-form-fields js-forms\">\r\n            <ul>\r\n              <li>\r\n                <div className=\"row left\">\r\n                  <label className=\"asterisk-required\">\r\n                    <strong>Profile picture</strong>\r\n                  </label>\r\n                </div>\r\n              </li>\r\n              <div className=\"row right\">\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"img\"\r\n                  value={\"\"}\r\n                  onChange={handleFileUpload}\r\n                />\r\n              </div>\r\n              <li>\r\n                <div className=\"row left\">\r\n                  <label className=\"asterisk-required\">\r\n                    <strong>name</strong>\r\n                  </label>\r\n                </div>\r\n                <div className=\"row right\">\r\n                  <input\r\n                    className=\"text-input js-validate_characters\"\r\n                    data-msg=\"form.characters_remaining\"\r\n                    data-max={30}\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={name || \"\"}\r\n                    onChange={(e) => setname(e.target.value)}\r\n                  />\r\n                </div>\r\n              </li>\r\n\r\n              <li>\r\n                <div className=\"row left\">\r\n                  <label className=\"asterisk-required\">\r\n                    <strong>Email</strong>\r\n                  </label>\r\n                </div>\r\n                <div className=\"row right\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    value={email || \"\"}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"box-form-fields js-forms\">\r\n            <ul>\r\n              <li>\r\n                <div className=\"row left\">\r\n                  <label\r\n                    htmlFor=\"standard_submission_submission_designBy\"\r\n                    className=\"asterisk-required\"\r\n                  >\r\n                    <strong>Position</strong>\r\n                  </label>\r\n                </div>\r\n                <div className=\"row right\">\r\n                  <input\r\n                    id=\"standard_submission_submission_sitename\"\r\n                    className=\"text-input js-validate_characters\"\r\n                    data-msg=\"form.characters_remaining\"\r\n                    data-max={30}\r\n                    type=\"text\"\r\n                    name=\"position\"\r\n                    value={position || \"\"}\r\n                    onChange={(e) => setPosition(e.target.value)}\r\n                  />\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <div className=\"row left\">\r\n                  <label\r\n                    htmlFor=\"standard_submission_submission_designerUrl\"\r\n                    className=\"asterisk-required\"\r\n                  >\r\n                    <strong>Technologies</strong>\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"row right\">\r\n                  <input\r\n                    id=\"standard_submission_submission_sitename\"\r\n                    className=\"text-input js-validate_characters\"\r\n                    data-msg=\"form.characters_remaining\"\r\n                    data-max={30}\r\n                    type=\"number\"\r\n                    name=\"technologies\"\r\n                    value={technologies || \"\"}\r\n                    onChange={(e) => setTechnologies(e.target.value)}\r\n                  />\r\n                </div>\r\n              </li>\r\n\r\n              <li>\r\n                <div className=\"row left\">\r\n                  <label className=\"asterisk-required\">\r\n                    <strong>Channels</strong>\r\n                  </label>\r\n                </div>\r\n                <div className=\"row right\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"channels\"\r\n                    value={channels || \"\"}\r\n                    onChange={(e) => setChannels(e.target.value)}\r\n                  />\r\n                </div>\r\n              </li>\r\n              \r\n              {/* //create a function to upload the CV */}\r\n              <li>\r\n                <div className=\"row left\">\r\n                  <label className=\"asterisk-required\">\r\n                    <strong>Upload CV</strong>\r\n                  </label>\r\n                </div>\r\n              </li>\r\n              <div className=\"row right\">\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"uploadCV\"\r\n                  value={\"\"}\r\n                  onChange={handleFileUpload}\r\n                />\r\n              </div>\r\n            </ul>\r\n          </div>\r\n\r\n          <button className=\"button large width-full\" type=\"submit\">\r\n            UPDATE PROFILE\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default withAuth(UserDetails);\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Switch } from \"react-router-dom\";\n\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\nimport Login from \"./pages/Login\";\nimport UserAccount from \"./pages/UserAccount\";\nimport AuthProvider from \"./lib/AuthProvider\";\nimport AnonRoute from \"./components/AnonRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport UserDetails from \"./components/UserDetails\";\n\n\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <div className=\"container\">\n        <Navbar />\n\n        <Switch>\n          <Home exact path=\"/\" component={Home} />\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          <PrivateRoute exact path='/user/userDetail' component={UserDetails} />\n          <PrivateRoute exact path=\"/private\" component={UserAccount} />\n          \n        </Switch>\n      </div>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>, \n  document.getElementById('root'));\n"],"sourceRoot":""}